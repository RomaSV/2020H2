# Module sevent-server

В данном модуле находится серверная часть приложения sevent.

## Сборка

Для сборки сервера следует выполнить следующую команду

    ./gradlew :sevent-server:assemble

## Получение дистрибутива приложения

### Архив

Сервер можно собрать в независимый (но он всё равно будет зависеть от JRE 1.8) 
дистрибутив следующей командой:

    ./gradlew :sevent-server:distZip

После этого в директории `/modules/sevent/server/build/distributions` будет 
расположен ZIP архив со всеми зависимостями и скриптами запуска (bin).

### Контейнер

Можно получить образ Docker контейнера выполнив команду в корне репозитория:

```sh
docker build -t sevent-server \
    --build-arg project=sevent \
    --build-arg category=server \
    --build-arg port=5987 .
```

## Запуск

Запуск из системы Gradle можно осуществить следующей командой:

```sh
./gradlew :sevent-server:run --args='опции'
```

Опции:
- **--host, -a** - адрес хоста, который следует занять (по умолчанию 
  `localhost`);
- **--port, -p** - порт сервера (по умолчанию `5987`);
- **--state, -s** - имя файла, откуда следует извлекать и куда следует класть 
  сохранённое состояние (по умолчанию `state.json`);
- **--minPeriod, -P** - минимальный период в секундах, который может задать 
  клиент при создании нового события (по умолчанию `1.0`)
